[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NEXT_TELEMETRY_DISABLED = "1"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Form notifications
[forms]
  # Global form settings
  [forms.settings]
    # Enable spam filtering
    spam_filter = true
    
  # Grandpa registration notifications
  [[forms.notifications]]
    # Form name must match the name attribute
    form = "grandpa-registration"
    # Your email for notifications
    to = "info@askmygrandpa.com"
    # Email subject
    subject = "ğŸ‰ New Grandpa Registration!"
    # Custom email template
    template = """
    Great news! A new Grandpa has registered on AskMyGrandpa.com

    ğŸ“ Registration Details:
    Name: {{ name }}
    Email: {{ email }}
    Phone: {{ phone }}
    Address: {{ address }}
    Contact Preference: {{ contact-preference }}
    
    ğŸ› ï¸ Skills: {{ skills }}
    
    ğŸ“– Interesting Note: {{ note }}
    
    â° Submitted: {{ timestamp }}
    
    You can view all submissions in your Netlify dashboard.
    """
    
  # Apprentice registration notifications
  [[forms.notifications]]
    # Form name must match the name attribute
    form = "apprentice-registration"
    # Your email for notifications
    to = "info@askmygrandpa.com"
    # Email subject
    subject = "ğŸŒŸ New Apprentice Registration!"
    # Custom email template
    template = """
    Exciting news! A new Apprentice has registered on AskMyGrandpa.com

    ğŸ“ Registration Details:
    Name: {{ name }}
    Email: {{ email }}
    Phone: {{ phone }}
    Address: {{ address }}
    Contact Preference: {{ contact-preference }}
    
    ğŸ‘´ Interested in connecting with: {{ interested-grandpa }}
    
    â° Submitted: {{ timestamp }}
    
    You can view all submissions in your Netlify dashboard.
    """
    
  # Grandpa request notifications
  [[forms.notifications]]
    # Form name must match the name attribute
    form = "grandpa-request"
    # Send to the specific grandpa's email
    to = "{{ grandpa-email }}"
    # Email subject
    subject = "ğŸ”§ New Help Request - {{ subject }}"
    # Custom email template
    template = """
    You have a new help request on AskMyGrandpa.com!

    ğŸ‘¤ From: {{ apprentice-name }} ({{ apprentice-email }})
    ğŸ“‹ Subject: {{ subject }}
    â° Availability: {{ availability }}
    
    ğŸ’¬ Message:
    {{ message }}
    
    ğŸ“… Submitted: {{ timestamp }}
    
    To respond to this request, please log into your dashboard at askmygrandpa.com/dashboard
    
    Thank you for being part of our community!
    """